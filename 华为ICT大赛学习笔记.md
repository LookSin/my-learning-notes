# 云计算

## 1.云计算相关概念

### 定义

**"云"**可以比喻成网络、互联网，**"计算"**指的是一台足够强大的计算机提供的计算服务(包括各种功能、资源、存储)。

**云计算**可以理解为：通过互联网可以使用足够强大的计算机为用户提供的服务，这种服务的使用量可以使用统一的单位来描述。比如买云产品付出相对应的钱。

### 特点

更加按需、灵活，并且在使用成本上、在使用的灵活性上，都比传统的IT模式更具优势。

### 模式

- IaaS：**基础设施即服务**，比如云平台提供服务器资源、存储资源、网络资源以及网络的维护，用户只需要关心基础设施之上的服务，比如应用以及应用的运行环境。典型的服务有ECS云服务器、云硬盘EVS等。
- PaaS：**平台即服务**，云服务商不仅提供了基础设施资源，还提供了平台资源，平台资源主要指的是中间件。
- Saas：**软件即服务**，由云平台提供了全部资源服务以及它的维护，用户直接过来用就可以了，比如人脸识别或者语音转译，用户直接来调取应用接口直接用就可以了。

### 价值(重要)

- 按需自助服务：按照自己的需求，在云网站上选取不同规格的产品
- 广泛网络接入：不管在什么时候都能接入，只要有网络
- 资源池化：云端所有资源都是池化的，你需要什么资源就从什么资源池去获取
- 快速部署，弹性扩容(弹性伸缩)：业务增长了(下降了)，资源可以灵活变动
- 可计量服务：我们在云上使用的所有资源都是可以被监控和计量的，根据监控到的数据可以进行计费

### 使用场景

- 个人用户：云相册、云音乐、云视频、云文档、云盘
- 企业用户：云会议、政务云——网上办事大厅

### 未来趋势

企业IT基础设施架构开始走向云化

传统企业IT架构 -> 虚拟化架构 -> 企业云化IT架构(分布式)

![image-20221112152505859](C:\Users\52908\AppData\Roaming\Typora\typora-user-images\image-20221112152505859.png)

## 2.云计算相关技术

### 存储

**分布式存储**。

- 块存储：服务器跟存储阵列之间的连接，通过光纤网络或者以太网进行连接，这就是现代企业的块存储。比如本地硬盘和LUN
- 文件存储：企业出现了协同办公的需求，需要将一个目录共享给多个主机访问，这时候就需要共享文件系统，比如FTP或者是Windows系统下的共享文件目录。
- 对象存储：支撑HTTP协议和HTTPS协议。许多互联网应用需要有一些终端设备通过公网来访问数据。

#### 块存储

形成LUN挂载映射给服务器，**服务器不能直接使用块存储**。**时延最低，适合高性能的场景**，比如核心数据库或者ERP的一些企业的核心应用这样的场景作为数据存储。

#### 文件存储

在存储侧中，已经提前建好文件系统。多级目录。

#### 对象存储

和前面两种区别是用的不是本地阵列，是服务器的本地硬盘，形成分布式存储池，**分布式存储架构设计**。兼具块存储的高速和文件存储的共享的特点。扁平式结构。支持规模及检索速度更好。

### 网络

#### 物理网络

- 路由器：连接多个网络，负责网络跟网络之间通信的转发
- 二层交换机：网段内的数据转发能力
- 三层交换机：完成数据中心内部不同网段之间的通信
- 网卡：连接不同设备的介质

#### 虚拟网络

- 桥接(个人)：源地址不变
- NAT(个人)：网络地址转换，避免攻击
- 虚拟交换机(企业)：监控和追踪虚拟机流量，跨多个服务器生效

### 虚拟化

把原先的物理设备进行逻辑化，转化成一个文件夹或文件，实现软硬件的解耦。**单台物理服务器->多台虚拟机**

#### 概念：

- Guest OS：虚拟机操作系统
- Guest Machine：虚拟出来的虚拟机
- Hypervisor 虚拟化软件层 = VMM 虚拟机监视器
- Host OS：运行在物理机之上的OS
- Host Machine：物理机

#### 特点：

- 分区：资源分区
- 隔离：互不影响
- 封装：以文件形式存在
- 独立：相对于硬件独立，软硬件解耦

### 容器

属于操作系统的虚拟化，是一个软件打包技术，容器主要包含两个东西，就是容器里面**运行的应用**以及这个应用所需的**运行环境**。

特点：**一次封装，到处运行**，**快**。容器和容器之间是**共享操作系统**的，而虚拟化架构中，虚拟机和虚拟机之间不共享操作系统。

## 3.华为云产品应用场景

**云服务：**企业上云中心、行业解决方案、通用解决方案、组织解决方案

**HCS**

## 4.云计算类服务

**ECS：**弹性云服务器(物理服务器通过Hypervisor创建的虚拟机)，就是一台电脑，和物理机的唯一区别就是没有物理躯干，计算虚拟化技术。

使用ECS，首先要先创建VPC虚拟私有云(免费)，配置网络服务

**BMS：**裸金属服务器(物理机)，**兼具**虚拟机弹性和物理机性能的计算类服务，本质是**物理机**服务的一种云服务，适用于不适合在虚拟机里跑的场景。

优点：性能极强、安全可靠、价格优势。

应用场景：**核心数据库场景、高性能计算**

**IMS：**镜像服务，为云主机或者物理机提供镜像的业务，免费的。

优势：安全、便捷、统一、灵活

应用场景：服务器上云或云上迁移，部署特定软件环境

**AS：**弹性伸缩(资源灵活性策略服务)，一方面可以提升租户业务的安全性，另一方面还可以帮租户**节约成本**。

优势：自动调整资源、加强成本管理、提高容错能力、提高可用性。

应用场景：电商网站

## 5.云网络类服务

**VPC：**虚拟私有云，就是所有公有云租户所租的一个空间。VPC是一个独立、私有的网络空间，VPC之间相互隔离。

应用场景：云端专属网络、Web应用或网站托管、Web应用访问控制、云上VPC连接

**EIP：**弹性公网IP服务

EIP的绑定与否，会直接影响ECS是否具有跟外界进行三层通信的能力

**ELB：**弹性负载均衡，相当于一个负载分担器以及流量转发设备。

将用户收到的流量以及未来出去的流量，根据用户自己分配的策略，通过相关的机制，自动把流量转发到服务器组中的某一台服务器，来实现高压状态下的流量分担以及一些容灾备份等

主要由三部分组成：负载均衡器、监听器和后端服务器组。

应用场景：高访问量业务进行流量分发、为潮汐业务弹性分发流量、消除单点故障、实现业务跨可用区容灾

**采用算法：**轮询算法、最少连接、源IP算法。

## 6.云存储类

**EVS：**云硬盘，专门可以为云服务器提供高可靠的块存储服务。可以理解为一个虚拟的硬盘服务挂给我们业务主机侧，可以是云主机，也可以是BMS提供存储。

**OBS：**对象存储服务，为租户提供存储能力，设置bucket加object以及通过对外提供相关认证机制、分享链接机制来打造一个扁平化的存储层面的一个系统，安全化的对外分享系统，以及远程的、加密的认证机制、使用系统。

应用场景：大数据分析、企业网盘、备份归档

**SFS：**弹性文件服务，特殊的存储文件服务，有自己独有的网络架构

优势：弹性扩展、操作简单、高性能高可靠、无缝集成

应用场景：低时延，高性能计算、媒体处理、内容管理和web服务、文件共享

![image-20221127125826540](C:\Users\52908\AppData\Roaming\Typora\typora-user-images\image-20221127125826540.png)
